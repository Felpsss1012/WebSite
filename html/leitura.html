<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Leitura Online | Mario Paulo</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,600;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../style/style.css">
    <link rel="stylesheet" href="../style/leitura.css">
</head>
<body class="bg-light">

    <header class="main-header style-fixed">
        <div class="logo">
            <a href="../index.html" style="color:inherit; text-decoration:none;">Mario <span>Paulo Martins</span></a>
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="obras-galeria.html" class="active">Voltar pro Catálogo</a></li>
            </ul>
        </nav>
    </header>

    <main id="readerApp">
        <div id="loader" class="loader-container">
            <div class="spinner"></div>
            <p>Preparando sua leitura...</p>
        </div>

        <div id="mainContent" class="reader-grid hidden" aria-hidden="true">
            
            <aside class="col-left sticky-sidebar">
                <div class="book-info-card">
                    <img id="bookCover" src="" alt="Capa" class="book-cover-img" loading="lazy">
                    <h1 id="bookTitle" class="book-title"></h1>
                    
                    <p id="bookSynopsis" class="book-synopsis"></p>

                    <a id="amazonLink" href="#" target="_blank" rel="noopener noreferrer" 
                       class="btn-primary" aria-label="Comprar Livro Físico">
                        Adquirir Obra na Amazon
                    </a>
                </div>
            </aside>

            <article class="col-center">
                <div id="pdfWrapper" class="pdf-container hidden" aria-live="polite" aria-busy="true">
                    
                    <div id="pdfViewport" class="pdf-viewport">
                        <canvas id="pdfCanvas" role="img" aria-label="Página do livro"></canvas>
                        
                        <div id="navLeft" class="nav-zone prev" title="Página Anterior">
                            <span class="nav-arrow">◀</span>
                        </div>
                        <div id="navRight" class="nav-zone next" title="Próxima Página">
                            <span class="nav-arrow">▶</span>
                        </div>
                    </div>

                    <div class="reader-controls">
                        <div id="pdfPageInfo" class="page-count"></div>
                    </div>
                    
                    <div id="pdfError" class="hidden error-box" role="alert" aria-live="assertive">
                        Não foi possível carregar o PDF.
                    </div>
                </div>
                
                <div id="textContent" class="text-content"></div>
                <ul id="chapterList" class="chapter-list hidden"></ul>
            </article>

            <aside class="col-right sticky-sidebar">
                <section id="reviewsSection" class="reviews-section">
                    <h3 class="reviews-title">Avaliações dos Leitores</h3>
                    
                    <div id="reviewsSummary" class="reviews-summary">
                        <div id="reviewsAvgStars"></div>
                        <div id="reviewsApproval" class="badge-approval"></div>
                    </div>
                    
                    <div id="reviewsList" class="reviews-list"></div>
                </section>
            </aside>
            
        </div>
    </main>

    <footer class="footer-institucional" id="contato">
        <div class="footer-container">
            <div class="footer-col">
                <h2 class="footer-name">Mario Paulo Martins</h2>
                <p class="footer-description">Investigação literária sobre cultura, território e a experiência humana.</p>
                <p class="footer-copyright">© 2024 Mario Paulo Martins. Todos os direitos reservados.</p>
            </div>
            <div class="footer-col">
                <h3 class="footer-title">Contato Institucional</h3>
                <address class="footer-address">
                    <a href="mailto:mariopaulomartins@hotmail.com" class="footer-link">mariopaulomartins@hotmail.com</a>
                </address>
            </div>
            <div class="footer-col">
                <h3 class="footer-title">Informações</h3>
                <nav class="footer-nav">
                    <ul class="footer-list">
                        <li><a href="../index.html#sobre" class="footer-link">Sobre o Autor</a></li>
                        <li><a href="../index.html#obras" class="footer-link">Obras Publicadas</a></li>
                        <li><a href="/politica-de-privacidade" class="footer-link">Política de Privacidade</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/pdfjs-dist@2.16.105/build/pdf.min.js"></script>
    <script>
        if (window['pdfjsLib']) {
            pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://unpkg.com/pdfjs-dist@2.16.105/build/pdf.worker.min.js';
        }
    </script>
    <script src="../scripts/leitura.js" defer></script>
</body>
</html>